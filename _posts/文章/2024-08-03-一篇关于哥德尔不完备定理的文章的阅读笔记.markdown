---
layout: page
title: 一篇关于哥德尔不完备定理的文章的阅读笔记
categories: 数学
top: true
---

## 参考

- [如何通俗的理解哥德尔不完备定理？ - 知乎](https://www.zhihu.com/question/27157141/answer/2916484836)

- 维基百科

## 形式语言、形式系统、公理系统

**形式语言**是一种语言。顾名思义，它是形式化的。形式语言中有这样一些成分：

- **字母表**：它是一个**有限**集合，其中的元素被称为**字母**或**字符**。
- **字符串**：它是字母构成的**有限长**序列的全集。**空序列**也是一种字符串。
- **语法规则**：它告诉我们，哪些字符串属于这个语言。一些语言有有限个合法字符串，它们的语法规则可以用穷举表示。大多数语言的语法规则是一个**算法**，用以检验一个字符串是否属于该语言。
- 字符串中的一部分连续的字符可能在一些语境下被视为一个整体，称为**符号**。这条不重要。

**形式系统**由一个**形式语言**和一套**推理规则**构成。推理规则告诉我们，如果有一组形式语言中的字符串，称为**前提**被假定为真，那么可以推导出另一组字符串为真，称为**结论**。

形式系统是纯粹**语法**的。**语法**和**语义**相对。形式系统中的字符串没有语义，也不需要有语义，所以我们也无法真的声明某个字符串确实为**真**。

**公理系统**是**形式系统**加上一组**公理**。公理被认为是真的。注意这里的“**真**”并不实在，只是我们假定出来的，因为公理系统依然是关于形式系统的，其中的任何字符串只是单纯的抽象符号，不具有语义。公理系统可以基于推理规则演绎，演绎会得到定理。公理系统需要有**自洽**（一些人称为**相容**或**一致**）性，这是在说它经过演绎后不能同时包含一个陈述和它的**否定**。由于我们一般只是在推演规则中**指定**某种形式的字符串是另一个字符串的否定形态，所以依然不涉及语义。公理系统还可能有**独立**性，这是在说里面没有可以被别的公理推导出的冗余公理。独立性不是必要的。

## 命题、命题逻辑与一阶逻辑

**命题**是陈述句所蕴含的**语义**，它描述事物的性质，具有**真值**（即可以判断真假）。不同的陈述句，或同样的语义用不同语言表述，都可能表达同一个命题——命题是语义，不是语句本身。

一个**良构**的语句应当描述**唯一**的命题。

**逻辑表达式**是一种数学家常常用来表述命题的工具。我们用这样的符号 $\varphi(x)$，指代一个逻辑表达式，其中有一个**变元** $x$。换句话说，我们可以在这个表达式中，将 $x$ 代入**某些**事物，形成一个语句，表述一个命题。具有变元的逻辑表达式与一组而不是一个命题有关。数学家往往用某些特定的逻辑符号书写逻辑表达式，但这不是重点。逻辑表达式代入具体变元，使得其中不再含有变元后，就可以成为一个**语句**，表述一个**命题**。

**命题逻辑**采用一套特定**形式语言**和一套**推理规则**（不展开），其中的语句就是代入了变元的表达式。命题逻辑也叫零阶逻辑。

**一阶逻辑**的语言和推理规则中有着**量词**，具体地是“**所有**”和“**存在**”。量词加在含变元的表达式前，使得表达式代入（范围内的）一系列变元，得到一系列表达式；这些表达式的真值通过（由量词指定的）某种方式聚合，得到一个新的表达式（或者一个语句）。所以一阶逻辑中的表达式和语句比命题逻辑更复杂，也就可以表述更多信息。

许多理论是**一阶逻辑**上的，比如关于自然数的皮亚诺公理体系、NBG 集合论体系、ZF(C) 集合论体系。

## “无限制的自由主义”

有一种”**无限制的自由主义**“（原文），认为在逻辑表达式 $\varphi(x)$ 中，$x$ 可以代入任何事物，成为语句。这种观点会让某些逻辑表达式在某些时候变得没有意义，所以存在着谬误。用类似于停机问题的构造手法，可以构造如下：考虑表达式 $\varphi(\psi,x) = \psi(x)$，表达式 $\pi(x) = \neg\varphi(x,x)$，则 $\varphi(\pi,\pi)$ 的真值是什么？不难发现 $\varphi(\pi,\pi) = \pi(\pi) = \neg\varphi(\pi,\pi)$。这种明显非良构的语句（不对应任何合法命题）告诉我们，必须对变元加以限制，才能让我们的逻辑体系不至崩溃。

> 停机问题的证否：
>
> 假设存在图灵机上的程序 $H(P,x)$，它输入一个程序 $P$ 和一组数据 $x$，并将在有限时间停机并输出 $P(x)$ （即将 $x$ 输入 $P$ 运行）是否在有限时间停机。
>
> 考虑程序 $U(P)$，它首先得到结果 $H(P,P)$，随后根据这个结果：
>
> - 如果输出”停机“那么 $U$ 立刻进入无限循环，永不停机。
> - 如果输出”不停机“那么 $U$ 立刻停机。
>
> 然后我们运行 $H(U,U)$，于是：
>
> - 若它应当输出”停机“，那么 $U(U)$ 将停机，它的输出是错的。
> - 若它应当输出”不停机“，那么 $U(U)$ 将不会停机，它的输出是错的。
>
> 所以程序 $H$ 无法存在。

## 模型论

首先有**语言**，接着定义了某语言上的**结构**。一种语言的一种结构由这样的部分构成：首先是一个集合，被称为**论域**，它的元素表示我们讨论的对象。我们只研究和表述这些对象的性质，以及它们之间的关联（**注意我们不可以讨论论域本身的性质**）。其次，它还包含对语言中词汇的**解释**，具体地，它将对于这个语言中的**常量符号**都对应到论域的某个元素，**函数和关系符号**（如果存在）都对应到论域上的某个函数和某个关系。

语言上还定义了**理论**。一个理论是用语言写出的**句子**的一个集合。如果这个集合中的句子符合通常的**推理规则**，那么说这个理论是**闭合理论**。

注意到当我们手头有一个理论，我们几乎不能研究其中的句子，至少对于它们的**真值**完全无法判断。这是因为：句子中的**符号**没有绑定**具体概念**；句子中的**量词**（所有、存在）不能明确**具体范围**。但我们确实可以判断它**语法上的/形式上的**性质，比如说在通常的推理规则下是否闭合。也就是说，理论依然只是关于**形式系统**的。

为了研究某个理论，我们寻找它的语言的一个**模型**，模型是一个**结构**。这个模型赋予这个理论的语句中的那些变元和量词具体含义，同时也立刻使得这些语句拥有真值。我们说这个模型是“某理论的模型”，如果在这个模型下，使得这个理论中的所有语句都是**真**的。如果对于一个理论，存在至少一个属于它的模型，那么说这个理论**可满足**。

模型论与**一阶逻辑**有关，所以上面我们所说的内容，大多属于一阶逻辑。二阶逻辑有着比一阶逻辑更多的内容和更强的表达能力，所以很多模型论的断言在上面失效了。

## （一阶逻辑的）哥德尔完全性定理与“完备性”

这是模型论的成果，所以是关于一阶逻辑的。

什么是**完全性**？和**完全性**相对的概念是**可靠性**。这两个词刻画了语义和语法、实质和形式、命题和形式语言的语句之间的关系。

如果一个语言中的某语句在该语言的所有模型下都是真的，这个语句就是**逻辑上有效的**。注意到在上一句话中，我们其实在说语句在不同模型中表达的**语义**有什么共同性质，直觉告诉我们，这与语句自身的**语法结构或者说形态**是有关系的，但不完全相同。

一套推理规则具有**完全性**，就是说所有有效的语句都可以通过推理被证明。反之，具有**可靠性**是在说能证明的语句都是有效的。

**哥德尔完全性定理**告诉我们：一阶逻辑具有完全性。这个定理的**更一般形式**告诉我们：对于一阶逻辑的任何理论与一个句子，如果这个句子在理论的所有模型中为真，那么这个句子可以由理论中的句子经过推导而得到。

另一个定理（**可靠性定理**）也告诉我们：一阶逻辑具有可靠性。

可靠性在许多人看来似乎比完全性更重要——毕竟如果一套规则允许我们推导出一个语句，但是这个语句对应的命题有时候是假的，那么这一套规则就显得很没意义。

完全性很多时候被叫做**完备性**，这有时引起歧义。**哥德尔不完备定理**中的这个词是某个**公理系统**的属性，**不完备**是在说存在一些这个公理系统的语言中的语句，无论是这个语句自身，还是它的否定形态，都不能被这个公理系统导出。

## 自然数

**自然数**很重要，因为：

- 自然数的概念在物理现实中广泛存在。
- 许多概念可以基于自然数得到描述。
- 自然数理论可以成为许多理论的基础。

所以，关于自然数的理论被包含在许多数学理论中。

**真正的自然数**的概念是用**元语言**描述的。元语言相对于它的**对象语言**表达力更强，但是严密程度、形式化程度更差，有时候是很经验化的。在形式语言中总有不加论证的语法规则，我们也需要为形式语言中的符号赋予意义，这些都依赖基于它的元语言的论述。

一阶逻辑中有一个关于自然数的理论——皮亚诺公理体系。皮亚诺公理体系中的一些符号和语句可以被解释成标准自然数和它的命题。皮亚诺公理体系有模型，因为它是自洽的且一阶逻辑是完备的。由于上面的原因，皮亚诺公理体系的模型的论域中**总有一些**元素可以解释成标准自然数，并且**所有标准自然数**都以这种方式被包含在其中。但是其实它也可以包含一些别的东西，这些东西被叫做**非标自然数**，它不能解释为**真正的自然数**。在我们**看起来**这些非标自然数似乎都比所有标准自然数更大。

## 编码

如果一个理论有着像皮亚诺公理体系那样刻画自然数的能力，那么我们可以进行**编码**。具体地，我们可以将为这个理论的语言中所有的语句指定一个自然数——它的**哥德尔数**。简单的做法是将语句转化为：进制数等于字母表大小，该进制下位数等于语句长度的一个数。不难发现编码是一种**一一对应**。

回顾”无限制的自由主义“。我们发现，允许将语句自身作为另一个语句的对象，代入到表达式的变元中，会导致致命的矛盾，因此我们为理论选择模型时指定了论域，限制了语句的对象的范围。然而，如果一个理论可以刻画自然数，那么它的模型中有一些元素可以解释成标准自然数，从而用于编码语句，我们于是可以用这种方式，将语句的哥德尔数而非它本身代入语句中。这就像打开了潘多拉的魔盒，为我们提供了一种崭新的视角。

## 哥德尔不完备定理

### 陈述

**哥德尔不完备定理**有两条：第一不完备定理和第二不完备定理。第一不完备定理的陈述如下：

> 任何包含皮亚诺公理体系的自洽的公理体系，其中存在不能被证明的语句（即无论是它自身还是否定都不能被导出），进一步地，存在事实上为真的这种语句。

第二不完备定理的陈述则是：

> 任何包含皮亚诺公理体系的自洽的公理体系，不能在它内部证明它自洽。

我们首先考虑证明第一不完备定理。

### 符号约定

- 皮亚诺公理体系记作 $\mathrm{PA}$。
- 理论 $T$ 可以证明语句 $t$ 写作 $T\vdash t$。
- 语句 $t$ 的哥德尔数记作 $G(t)$。
- 对于元语言中的自然数 $n$，当我们强调它在 $\mathrm{PA}$ 中对应的符号时，将它写作 $\bar n$。

### 哥德尔的证明思路

为了构造出不可证明的语句，哥德尔首先尝试将公理体系的一些**构造**编码进一阶逻辑的语言。具体地主要是**公理**的概念和**证明**的概念。

首先我们寻找一个表达式 $S(x)$ 使得：$t\text{是一个公理}\leftrightarrow\mathrm{PA}\vdash S(G(t))$。注意：后项并不是 $S(G(\varphi))$ 为**真**。也就是说，给出语句的哥德尔数，$S$ 指示这个语句是不是一个公理。虽然这个表达式的形态可以很复杂，但是对于皮亚诺公理体系的公理，我们知道这个表达式是存在的。这是因为皮亚诺公理体系的公理（的编码集合）是**递归**的。自然数的一个子集被称为递归的，如果存在一个**全可计算函数**判定了一个元素是否属于这个集合；或者说，有一个图灵机，对于任何输入总是停机，并且给出：输入的自然数是否属于这个集合。

接下来我们讨论**证明**的概念。一个公理体系内一个语句 $t$ 的**某个**合法证明（当然，可证语句的证明可以是不唯一的），是一个序列 $\langle s_0,s_1,s_2,\cdots,s_m\rangle$，其中 $s_m=t$，并且对于其中的所有语句，它要么是一个**公理**，要么可以被它之前的某些公理**推导出来**。前者的表示我们已经讨论，而后者也可以用一个表达式来判断，这是因为推理规则同样是递归的。所以我们确实能表示出一个证明，并且判断它的合法性，即存在公式 $\mathrm{bew}(x,y)$ 使得：$n\text{ 编码某个 }t\text{ 的合法证明}\leftrightarrow\mathrm{PA}\vdash\mathrm{bew}(\bar n, G(t))$。

然而，知道了证明的概念还不够，为了构造出不可证命题，哥德尔希望编码出**可证明**的概念。换句话说，希望存在这样的语句 $\mathrm{bwb}(x):=\exists y(\mathrm{bew}(y,x))$。然而，可证明命题的集合只保证是**递归可枚举的**，不保证是**递归的**。所以我们**可以保证**，如果 $t$ 可证，那么 $\mathrm{PA}\vdash \mathrm{bwb}(G(t))$；却**不能保证**，如果 $t$ 不可证，那么 $\mathrm{PA}\not\vdash \mathrm {bwb}(G(t))$，**更不能说** $t$ 不可证时，有 $\mathrm{PA}\vdash\neg\mathrm{bwb}(G(t))$。这将在后面带来隐患。

> 递归可枚举是在说一个集合：
>
> - 存在一个**半可计算函数**（即可计算，但定义域不是自然数的全集），判定一个自然数是不是属于该集合。对于集合外元素可能不停机，也可能停机并指出不属于集合，但不会给出错误回答。
> - 存在一个半可计算函数，定义域就是集合内的元素，也就是停机当且仅当输入集合内元素。*和上一条实际等价*。
> - 存在一个全可计算函数，值域是这个集合。*根据定义域和值域的对称性和前两条等价*。
>
> 递归可枚举这个名字来源于第三条定义。

> **重要辨析**：$\forall n(T\vdash \varphi(n))$ 与 $T\vdash\forall n(\varphi(n))$ 本质不同，后者比前者强得多。

接下来，我们正式进入哥德尔的证明。

一阶逻辑的字符串既然**可数**（可以用自然数编码），则我们可以像这样列举出所有**含有恰好一个变元**的表达式（注意在这里一元表达式的**标号**和语句的**哥德尔数**并不是同一个概念）：$\langle\varphi_0(x), \varphi_1(x), \cdots, \varphi_n(x), \cdots\rangle$，基于这个序列又可以构造出**语句序列**： $\langle\varphi_0(\bar0), \varphi_1(\bar1), \cdots, \varphi_n(\bar n), \cdots\rangle$。

接下来，对于一元表达式 $\psi(x)$，考虑构造表达式 $\pi(\bar n) := \psi(G(\varphi_n(\bar n)))$，注意到 $\pi$ **也是**一元表达式，所以存在某个 $k$，使得 $\varphi_k(\bar n) = \pi(\bar n) = \psi(G(\varphi_n(\bar n)))$。立刻代入 $n = k$，于是得到 $\varphi_k(\bar k) = \psi(G(\varphi_k(\bar k)))$。换句话说，对于所有一元表达式 $\psi(x)$，存在语句 $\sigma = \varphi_k(\bar k)$，使得 $\sigma = \psi(G(\sigma))$。

取 $\psi(x) = \neg\mathrm{bwb}(x)$，对应的 $\sigma$ 记作 $s$。接下来，讨论 $\mathrm{PA}$ 能不能证明 $s$ 或者它的否定。

- 如果 $\mathrm{PA}\vdash s$，那么根据 $\mathrm{bwb}$ 的定义有 $\mathrm{PA}\vdash \mathrm{bwb}(G(s))$，但是根据 $s$ 的定义，又有 $\mathrm {PA}\vdash \psi(G(s))$ 即 $\mathrm{PA}\vdash\neg\mathrm{bwb}(G(s))$，这是矛盾的，所以 $\mathrm{PA}\not\vdash s$。
- 如果 $\mathrm{PA}\vdash\neg s$，我们立刻知道 $\mathrm{PA}\vdash \mathrm{bwb}(G(s))$。但是我们能否立刻由此得出 $\mathrm {PA} \vdash s$ 从而导出矛盾呢？**不能**。这就是上面的隐患爆发的时刻。哥德尔通过引入涉及语义的性质来继续这部分论证，但这事实上需要我们对 $\mathrm{PA}$ 作出更多（元语言中的）断言，从而弱化了他的定理的适用范围。

哥德尔如何解决这个问题呢？他引入了语义，认为：标准自然数模型 $\mathfrak N$ 将会是 $\mathrm{PA}$ 的一个模型，所以当 $\mathrm {PA}\vdash \mathrm{bwb}(G(s))$ 时有 $\mathfrak N \vDash \mathrm{bwb}(G(s))$，即标准自然数兼容这个语句，所以我们认为**确实存在**一个自然数 $n$ 使得 $\mathfrak N\vDash \mathrm {bew}(\bar n,G(s))$，所以 $\mathrm {PA}\not\vdash\neg \mathrm {bew}(\bar n,G(s))$。因为皮亚诺公理体系是自洽的，所以当 $\mathrm{PA}\vdash \neg s$ 时 $\mathrm {PA}\not\vdash s$，而这说明对于所有的自然数 $m$ 都有 $\mathrm {PA}\vdash \neg\mathrm{bew}(\bar m,G(s))$，$m=n$ 时即产生矛盾。

哥德尔通过语义叙述的理论 $T$ 的性质被叫做 $\omega$ 一致性：如果对 $T$ 有：若 $T\vdash \exists x(\varphi(\bar x))$ 则 $\exists x(T\not\vdash\neg\varphi(\bar x))$，那么我们说 $T$ 是 $\omega$ 一致的。这个叙述和上面的**重要辨析**中的叙述非常相似，不过我们要注意这里的否定是加诸“证明”上的而不是语句本身。不是所有一致（即自洽）的理论都是 $\omega$ 一致的，所以实际上这弱化了哥德尔的定理。

### Rosser 的改进

Rosser 对哥德尔证明的改进主要在于将命题 $\mathrm{bwb}$ 替换为了 $\mathrm{prov}(G(t)):=\exists x(\pi(x))$，其中 $\pi(x):=\mathrm{bew}(x,G(t))\wedge \forall y<x(\neg \mathrm{bew}(y,G(\neg t)))$。用直观的话来说，$\mathrm{prov}$ 是在说：存在一种 $t$ 的证明，且在它之前的命题都没有证明 $t$ 的否定。根据皮亚诺公理体系的自洽性，当 $t$ 确实可证时，这一语句与 $\mathrm{bwb}$ 本质相同，有 $\mathrm{PA}\vdash \mathrm{prov(G(t))}$。它的巧妙性体现在否定意义下。像上文中那样，以下令 $\psi(x) = \neg \mathrm{prov}(x)$，$s$ 是它对应的自指语句：

- 如果 $\mathrm{PA}\vdash s$，同上矛盾。
- 如果 $\mathrm{PA}\vdash \neg s$，那么根据 $s$ 的定义，$\mathrm{PA}\vdash \mathrm{prov}(G(s))$。同时，存在自然数 $m$，使得 $\mathrm{PA}\vdash \mathrm{bew}(\bar m,G(\neg s))$，这是根据 $\mathrm{bew}$ 的定义。综合这两点，我们知道 $\mathrm{PA}\vdash \forall n>m(\neg\pi(n))$，因为 $\wedge$ 符号的后项总是不成立。除此之外，因为 $\forall n\leq m(PA\vdash \neg\mathrm{bew}(\bar n,G(t)))$，所以 $PA\vdash \forall n\leq m(\neg\mathrm{bew}(n,G(t)))$。我们得以这样推理，是因为 $n\leq m$ 表达的语句数是有限的，只要依次证明即可。

Rosser 的证明通过在证否处“截止”，避免了“可证性”的概念在需要验证的潜在证明总数推向无穷时产生的问题，因此它只要求理论具有自洽性，这大大推广了哥德尔不完备定理的适用范围。

